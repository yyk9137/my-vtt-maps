var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};t.d(e,{A:()=>p,T:()=>o});const n='https://yyk9137.github.io/my-vtt-maps/vtt-map-viewer/index.html';function o(){'loading'===document.readyState?document.addEventListener('DOMContentLoaded',s):s()}function s(){'undefined'!=typeof $?($(()=>{toastr.success('üó∫Ô∏è VTT Âú∞ÂõæÊÇ¨ÊµÆÁ™óÂ∑≤Âä†ËΩΩ'),function(){if($('#vtt-map-button').length>0)return;const t=$('<button>').attr('id','vtt-map-button').attr('title','ÊâìÂºÄ VTT Âú∞Âõæ (Ctrl+M)').css({position:'fixed',bottom:'20px',right:'20px',zIndex:'9999',display:'flex',alignItems:'center',gap:'8px',padding:'12px 20px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',border:'none',borderRadius:'50px',boxShadow:'0 4px 15px rgba(102, 126, 234, 0.4)',fontSize:'16px',fontWeight:'600',cursor:'pointer',transition:'all 0.3s ease'}).html('\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">\n        <path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/>\n      </svg>\n      <span>Âú∞Âõæ</span>\n    ').on('click',()=>{i()}).on('mouseenter',function(){$(this).css({transform:'translateY(-2px)',boxShadow:'0 6px 20px rgba(102, 126, 234, 0.6)'})}).on('mouseleave',function(){$(this).css({transform:'translateY(0)',boxShadow:'0 4px 15px rgba(102, 126, 234, 0.4)'})});$('body').append(t)}(),$(document).on('keydown',t=>{t.ctrlKey&&'m'===t.key&&(t.preventDefault(),i())})}),$(window).on('pagehide',()=>{$('#vtt-map-button').remove(),$('#vtt-floating-window').remove(),toastr.info('üó∫Ô∏è VTT Âú∞ÂõæÊÇ¨ÊµÆÁ™óÂ∑≤Âç∏ËΩΩ')})):console.error('‚ùå jQuery Êú™Âä†ËΩΩ,Êó†Ê≥ïÂàùÂßãÂåñ VTT Âú∞ÂõæÊÇ¨ÊµÆÁ™ó')}function i(){const t=$('#vtt-floating-window');t.length>0?t.is(':visible')?t.hide():t.show():function(){const t=$('<div>').attr('id','vtt-floating-window').css({position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'80vw',height:'80vh',maxWidth:'1400px',minWidth:'400px',minHeight:'300px',background:'#1a1a1a',border:'2px solid #667eea',borderRadius:'12px',boxShadow:'0 10px 40px rgba(0, 0, 0, 0.5)',zIndex:'10000',display:'flex',flexDirection:'column',overflow:'hidden'}),e=function(t){const e=$('<div>').css({padding:'12px 20px',background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',display:'flex',justifyContent:'space-between',alignItems:'center',cursor:'move',userSelect:'none'}),n=$('<div>').css({display:'flex',alignItems:'center',gap:'10px',color:'white',fontSize:'18px',fontWeight:'600'}).html('\n      <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">\n        <path d="M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5zM15 19l-6-2.11V5l6 2.11V19z"/>\n      </svg>\n      <span>VTT Âú∞ÂõæÊü•ÁúãÂô®</span>\n    '),o=$('<div>').css({display:'flex',gap:'8px'}),s=r('‚ûñ','ÊúÄÂ∞èÂåñ','#ff9800','#fb8c00',()=>{const e=t.find('.vtt-content');e.is(':visible')?(e.hide(),t.css('height','auto'),s.html('‚¨ú')):(e.show(),t.css('height','80vh'),s.html('‚ûñ'))}),i=r('‚õ∂','ÂÖ®Â±è','#2196f3','#1e88e5',()=>{'100vw'===t.css('width')?(t.css({top:'50%',left:'50%',transform:'translate(-50%, -50%)',width:'80vw',height:'80vh',borderRadius:'12px'}),i.html('‚õ∂')):(t.css({top:'0',left:'0',transform:'none',width:'100vw',height:'100vh',borderRadius:'0'}),i.html('üóó'))}),a=r('‚ùå','ÂÖ≥Èó≠ (Esc)','#f44336','#e53935',()=>{t.hide()});return o.append(s,i,a),e.append(n,o),e}(t);t.append(e);const o=function(){const t=$('<div>').addClass('vtt-content').css({flex:'1',position:'relative',overflow:'hidden',background:'#0a0a0a'}),e=$('<div>').css({position:'absolute',top:'0',left:'0',width:'100%',height:'100%',display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',gap:'20px',background:'#0a0a0a',color:'white',zIndex:'1'}).html('\n    <div style="width: 50px; height: 50px; border: 4px solid rgba(102, 126, 234, 0.3); border-top-color: #667eea; border-radius: 50%; animation: spin 1s linear infinite;"></div>\n    <p style="margin: 0; font-size: 18px; color: #667eea;">Ê≠£Âú®Âä†ËΩΩ VTT Âú∞Âõæ...</p>\n  '),o=$('<iframe>').css({width:'100%',height:'100%',border:'none',background:'white'}).attr('src',n).attr('allow','fullscreen').on('load',()=>{e.fadeOut(),toastr.success('üó∫Ô∏è Âú∞ÂõæÂä†ËΩΩÂÆåÊàê')}).on('error',()=>{e.html('\n        <div style="font-size: 50px;">‚ö†Ô∏è</div>\n        <p>Âú∞ÂõæÂä†ËΩΩÂ§±Ë¥•</p>\n        <small style="font-size: 14px; color: #999;">ËØ∑Ê£ÄÊü• URL ÊòØÂê¶Ê≠£Á°Æ</small>\n      '),toastr.error('‚ùå Âú∞ÂõæÂä†ËΩΩÂ§±Ë¥•')});return t.append(e,o),t}();t.append(o),$('body').append(t),function(t,e){let n=!1,o=0,s=0;e.on('mousedown',i=>{if($(i.target).closest('button').length>0)return;n=!0;const r=t.offset();o=i.pageX-r.left,s=i.pageY-r.top,e.css('cursor','grabbing'),$('body').css('userSelect','none')}),$(document).on('mousemove',e=>{if(n&&'100vw'!==t.css('width')){const n=e.pageX-o,i=e.pageY-s,r=$(t).width()-t.outerWidth(),a=$(t).height()-t.outerHeight();t.css({left:Math.max(0,Math.min(n,r))+'px',top:Math.max(0,Math.min(i,a))+'px',transform:'none'})}}),$(document).on('mouseup',()=>{n&&(n=!1,e.css('cursor','move'),$('body').css('userSelect',''))})}(t,e),function(t){['n','e','s','w','ne','se','sw','nw'].forEach(e=>{const n=$('<div>').css({position:'absolute',zIndex:'10',...a(e),cursor:`${e}-resize`});t.append(n)});let e=!1,n='',o=0,s=0,i=0,r=0,d=0,p=0;t.find('div').each(function(){const a=$(this);'absolute'===a.css('position')&&a.css('cursor').includes('resize')&&a.on('mousedown',c=>{'100vw'!==t.css('width')&&(e=!0,n=a.css('cursor').replace('-resize',''),o=c.pageX,s=c.pageY,i=t.width(),r=t.height(),d=t.offset().left,p=t.offset().top,$('body').css('userSelect','none'),c.preventDefault())})}),$(document).on('mousemove',a=>{if(e){const e=a.pageX-o,c=a.pageY-s;let l=i,h=r,u=d,f=p;n.includes('e')&&(l=i+e),n.includes('w')&&(l=i-e,u=d+e),n.includes('s')&&(h=r+c),n.includes('n')&&(h=r-c,f=p+c),l=Math.max(400,l),h=Math.max(300,h),t.css({width:l+'px',height:h+'px',left:u+'px',top:f+'px'})}}),$(document).on('mouseup',()=>{e&&(e=!1,$('body').css('userSelect',''))})}(t),function(t){$(document).on('keydown',e=>{'Escape'===e.key&&t.is(':visible')&&t.hide()})}(t),t.hide().fadeIn(300)}()}function r(t,e,n,o,s){return $('<button>').attr('title',e).css({padding:'6px 12px',border:'none',borderRadius:'5px',color:'white',fontSize:'14px',fontWeight:'600',cursor:'pointer',background:n,transition:'all 0.2s ease'}).html(t).on('click',s).on('mouseenter',function(){$(this).css({background:o,transform:'scale(1.05)'})}).on('mouseleave',function(){$(this).css({background:n,transform:'scale(1)'})})}function a(t){return{n:{top:'0',left:'10px',right:'10px',height:'5px'},e:{top:'10px',right:'0',bottom:'10px',width:'5px'},s:{bottom:'0',left:'10px',right:'10px',height:'5px'},w:{top:'10px',left:'0',bottom:'10px',width:'5px'},ne:{top:'0',right:'0',width:'10px',height:'10px'},se:{bottom:'0',right:'0',width:'10px',height:'10px'},sw:{bottom:'0',left:'0',width:'10px',height:'10px'},nw:{top:'0',left:'0',width:'10px',height:'10px'}}[t]||{}}const d=document.createElement('style');d.textContent='\n  @keyframes spin {\n    to { transform: rotate(360deg); }\n  }\n',document.head.appendChild(d),o();const p={init:o},c=e.A,l=e.T;export{c as default,l as init};
//# sourceMappingURL=index.js.map